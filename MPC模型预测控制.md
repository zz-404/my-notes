# 模型预测控制 (MPC) 课程笔记

**课程来源：** 华工机器人实验室  
**视频地址：** [Model Predictive Control 模型预测控制,从公式到代码](https://www.bilibili.com/video/BV1U54y1J7wh/?vd_source=bbf7874c85687ec5fb9348883f1a1b37)  
**仿真工程源码：** [Gitee](https://gitee.com/)

---

## 1. MPC 是什么？ 

1. 利用系统的显式动态模型来预测系统在未来有限时间范围内的行为
“显式动态模型”：这是MPC的基础。这个模型是一个数学方程，能够描述系统的输入（如阀门开度、电机电压）如何影响输出（如温度、速度、位置）。没有这个模型，MPC就无法工作。模型可以是简单的线性方程，也可以是复杂的非线性方程组。

“预测未来”：MPC利用这个模型，以当前系统状态为起点，推测如果施加一系列未来的控制输入 [u(k), u(k+1), ..., u(k+N-1)]，系统输出 [y(k+1), y(k+2), ..., y(k+N)] 会如何变化。这个未来的时间范围被称为预测时域 (Prediction Horizon)。

---
在优化问题中，可以直接地将物理限制作为约束条件加入。
### 数学模型基础
**系统模型表示：**
x(k+1) = Ax(k) + Bu(k)  

y(k) = Cx(k)  

其中：
- `x`：系统状态
- `u`：控制输入  
- `y`：系统输出
- `A, B, C`：系统矩阵

### 预测方程推导
**状态预测：**  

x(k+1|k) = Ax(k) + Bu(k)
x(k+2|k) = A²x(k) + ABu(k) + Bu(k+1)
...
x(k+N|k) = A^N x(k) + A^(N-1)Bu(k) + ... + Bu(k+N-1)  
